/* =========================================================
    Visual Struktur — Premium Light (Lux) — FULL CSS (CLEAN)
    single-file, production-ready, NO DUPLICATES
    - Fonts: headings => Cormorant SC (единый стиль)
    - UI/Text => Inter
    - Сохранены все твои визуальные решения, но конфликты/дубли убраны
========================================================= */

/* =========================================================
    BASE RESET / SAFETY
========================================================= */
*,
*::before,
*::after {
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    margin: 0;
    min-height: 100dvh;
    font-family: var(--font-ui);
    background: var(--bg);
    color: var(--text);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

img,
picture,
video,
canvas,
svg {
    display: block;
    max-width: 100%;
}

input,
button,
textarea,
select {
    font: inherit;
}

a {
    color: inherit;
    text-decoration: none;
}

a:hover {
    text-decoration: none;
}

::selection {
    background: rgba(37, 99, 235, .18);
}

/* =========================================================
    TOKENS / ROOT
========================================================= */
:root {
    --font-ui: 'Inter', system-ui, -apple-system, Segoe UI, sans-serif;

    /* ЕДИНЫЙ ШРИФТ ДЛЯ ЗАГОЛОВКОВ */
    --font-display: "Cormorant SC", ui-serif, Georgia, serif;

    --bg: #f6f8fb;
    --surface: rgba(255, 255, 255, .72);
    --stroke: rgba(15, 23, 42, .10);

    --text: #0f172a;
    --muted: rgba(15, 23, 42, .72);
    --muted2: rgba(15, 23, 42, .58);

    --accent: #111827;
    --accent-strong: #0b1220;

    --shadow1: 0 10px 28px rgba(15, 23, 42, .10);
    --shadow2: 0 18px 50px rgba(15, 23, 42, .12);

    --radius: 18px;
}

/* =========================================================
    GLOBAL BACKGROUND (единый)
========================================================= */
.bg-app {
    background:
        radial-gradient(1000px 620px at 50% -10%, rgba(56, 189, 248, .14), transparent 60%),
        radial-gradient(900px 600px at 20% 15%, rgba(99, 102, 241, .09), transparent 55%),
        linear-gradient(180deg, #fbfcff 0%, #f3f6fb 45%, #eef2f9 100%);
    background-attachment: fixed;
}

/* =========================================================
    GLOBAL HEADINGS (везде один стиль)
========================================================= */
h1,
h2,
h3,
h4,
.h-display,
.h-title,
.hero-intro__title,
.branch-title {
    font-family: var(--font-display);
}

/* =========================================================
    BRAND (Header) — logo-like typography
========================================================= */
.brand-title {
    font-family: var(--font-display);
    font-weight: 600;
    letter-spacing: .08em;
    line-height: 1.05;
    text-transform: none;
    -webkit-font-smoothing: antialiased;
    text-rendering: geometricPrecision;
}

.brand-title .brand-gradient {
    letter-spacing: .10em;
}

.brand-title .brand-plain {
    font-weight: 500;
    letter-spacing: .08em;
}

/* gradient text helper */
.brand-gradient {
    background: linear-gradient(135deg, #0f172a, #374151);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

/* subtitle under brand title */
.brand-subtitle {
    font-family: var(--font-display);
    font-weight: 500;
    color: rgba(15, 23, 42, .66);
    letter-spacing: .12em;
    line-height: 1.15;
    text-transform: none;
    white-space: nowrap;
}

@media (max-width: 360px) {
    .brand-subtitle {
        white-space: normal;
    }
}

.text-balance {
    text-wrap: balance;
}

/* =========================================================
    TYPOGRAPHY HELPERS
========================================================= */
.h-display {
    font-weight: 700;
    letter-spacing: 0.01em;
    line-height: 1.05;
}

.h-title {
    font-weight: 600;
    letter-spacing: 0.005em;
    line-height: 1.15;
}

.p-muted {
    color: var(--muted);
}

.p-muted2 {
    color: var(--muted2);
}

.hr-soft {
    border: 0;
    height: 1px;
    background: rgba(15, 23, 42, .08);
}

/* =========================================================
    PANELS / CARDS (glass)
========================================================= */
.panel {
    background: var(--surface);
    border: 1px solid var(--stroke);
    border-radius: calc(var(--radius) + 6px);
    box-shadow: var(--shadow1);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

.card-premium {
    box-shadow:
        0 18px 55px rgba(15, 23, 42, .10),
        0 1px 0 rgba(255, 255, 255, .70) inset;
}

/* =========================================================
    HEADER (glass)
========================================================= */
.glass-header {
    position: sticky;
    top: 0;
    z-index: 50;
    background: linear-gradient(180deg,
            rgba(255, 255, 255, .94) 0%,
            rgba(255, 255, 255, .82) 55%,
            rgba(255, 255, 255, .74) 100%);
    border-bottom: 1px solid rgba(15, 23, 42, .10);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
}

.glass-header::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: linear-gradient(180deg,
            rgba(15, 23, 42, .14) 0%,
            rgba(15, 23, 42, .06) 45%,
            rgba(15, 23, 42, 0) 85%);
    opacity: .55;
}

.glass-header::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    height: 1px;
    pointer-events: none;
    background: linear-gradient(90deg,
            rgba(255, 255, 255, 0),
            rgba(255, 255, 255, .75),
            rgba(255, 255, 255, 0));
    opacity: .9;
}

.glass-header>* {
    position: relative;
    z-index: 1;
}

.nav-shadow {
    box-shadow: 0 18px 45px rgba(15, 23, 42, .12);
}

/* Nav spacing shrink */
.nav-wrap {
    padding-top: 10px;
    padding-bottom: 10px;
    transition: padding .22s ease;
}

.nav-shrink .nav-wrap {
    padding-top: 6px;
    padding-bottom: 6px;
}

@media (max-width: 640px) {

    .nav-wrap,
    .nav-shrink .nav-wrap {
        padding-top: 10px;
        padding-bottom: 10px;
    }
}

/* =========================================================
    NAV LINKS (desktop) + active aria-current
========================================================= */
nav a.brand-link {
    display: inline-flex;
    align-items: baseline;
    gap: 12px;
    padding: 0;
    border-radius: 0;
    background: transparent;
    border: 0;
    box-shadow: none;
    text-decoration: none;
}

nav a.brand-link::after {
    display: none;
}

nav a.nav-link {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    border-radius: 999px;

    color: rgba(15, 23, 42, .94);
    font-weight: 600;
    letter-spacing: .01em;

    background: transparent;
    border: 1px solid transparent;

    transition: background .18s ease, border-color .18s ease, box-shadow .18s ease, color .18s ease;
}

nav a.nav-link:hover {
    color: rgba(15, 23, 42, .98);
    background-color: rgba(255, 255, 255, .78);
    border-color: rgba(15, 23, 42, .10);
    box-shadow: 0 10px 26px rgba(15, 23, 42, .06);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

nav a.nav-link[aria-current="page"] {
    color: rgba(15, 23, 42, .98);
    background-color: rgba(255, 255, 255, .94);
    border-color: rgba(15, 23, 42, .16);
    box-shadow: 0 14px 34px rgba(15, 23, 42, .10);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    font-weight: 700;
}

nav a.nav-link[aria-current="page"]::after {
    content: "";
    position: absolute;
    left: 14px;
    right: 14px;
    bottom: 6px;
    height: 2px;
    border-radius: 999px;
    background: linear-gradient(90deg,
            rgba(17, 24, 39, 0),
            rgba(17, 24, 39, .65),
            rgba(17, 24, 39, 0));
    opacity: .95;
    pointer-events: none;
}

/* Mobile menu active */
#mobileMenu a[aria-current="page"] {
    background-color: rgba(255, 255, 255, .94);
    border: 1px solid rgba(15, 23, 42, .16);
    box-shadow: 0 10px 26px rgba(15, 23, 42, .08);
}

/* =========================================================
    MOBILE MENU
========================================================= */
#mobileMenu {
    border-radius: 20px;
    border: 1px solid rgba(15, 23, 42, .10);
    background: rgba(255, 255, 255, .82);
    box-shadow: 0 18px 55px rgba(15, 23, 42, .12);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    overflow: hidden;
}

#mobileMenu a {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;

    padding: 12px 14px;
    border-radius: 14px;

    color: rgba(15, 23, 42, .92);
    font-weight: 700;
    border: 1px solid transparent;

    transition: background .16s ease, border-color .16s ease, box-shadow .16s ease;
}

#mobileMenu a:hover {
    background: rgba(255, 255, 255, .92);
    border-color: rgba(15, 23, 42, .10);
    box-shadow: 0 10px 26px rgba(15, 23, 42, .06);
}

/* =========================================================
    BUTTONS
========================================================= */
.btn-primary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 16px;
    padding: 12px 20px;
    font-size: 15px;
    font-weight: 800;
    color: #fff;

    background:
        linear-gradient(180deg, rgba(255, 255, 255, .10), rgba(255, 255, 255, 0) 45%),
        linear-gradient(135deg, var(--accent), var(--accent-strong));

    border: 1px solid rgba(255, 255, 255, .16);
    box-shadow:
        0 18px 48px rgba(15, 23, 42, .18),
        0 1px 0 rgba(255, 255, 255, .18) inset;

    transition: transform .20s ease, box-shadow .20s ease, filter .20s ease;
}

.btn-primary:hover {
    transform: translateY(-1px);
    filter: brightness(1.02);
    box-shadow:
        0 22px 60px rgba(15, 23, 42, .22),
        0 1px 0 rgba(255, 255, 255, .18) inset;
}

.btn-ghost {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 16px;
    padding: 12px 20px;
    font-size: 15px;
    font-weight: 800;
    color: var(--text);

    background: rgba(255, 255, 255, .78);
    border: 1px solid rgba(15, 23, 42, .14);

    box-shadow:
        0 10px 26px rgba(15, 23, 42, .08),
        0 1px 0 rgba(255, 255, 255, .70) inset;

    transition: transform .20s ease, background .20s ease, box-shadow .20s ease, border-color .20s ease;
}

.btn-ghost:hover {
    background: rgba(255, 255, 255, .90);
    border-color: rgba(15, 23, 42, .18);
    transform: translateY(-1px);
    box-shadow:
        0 14px 34px rgba(15, 23, 42, .10),
        0 1px 0 rgba(255, 255, 255, .70) inset;
}

/* Focus */
.btn-primary:focus-visible,
.btn-ghost:focus-visible,
a:focus-visible,
button:focus-visible {
    outline: 2px solid rgba(15, 23, 42, .35);
    outline-offset: 3px;
    border-radius: 18px;
}

/* Premium hover lift */
.hover-lift {
    transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease;
}

.hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 22px 70px rgba(15, 23, 42, .14);
    border-color: rgba(15, 23, 42, .14);
}

/* =========================================================
    BADGES
========================================================= */
.hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    border-radius: 999px;
    background: rgba(255, 255, 255, .72);
    border: 1px solid rgba(15, 23, 42, .10);
    box-shadow: 0 10px 28px rgba(15, 23, 42, .08);
    color: rgba(15, 23, 42, .80);
    font-size: 13px;
    font-weight: 700;
}

.hero-badge-dot {
    width: 10px;
    height: 10px;
    border-radius: 999px;
    background: rgba(37, 99, 235, .95);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, .14);
}

/* Live green */
.badge-live,
.status-live,
.pill-live,
.tag-live {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 800;
    letter-spacing: .01em;

    color: #065f46;
    background: rgba(16, 185, 129, .14);
    border: 1px solid rgba(16, 185, 129, .28);

    box-shadow:
        0 10px 26px rgba(16, 185, 129, .12),
        0 1px 0 rgba(255, 255, 255, .75) inset;
}

.badge-live::before,
.status-live::before,
.pill-live::before,
.tag-live::before {
    content: "";
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: rgba(16, 185, 129, .95);
    box-shadow: 0 0 0 3px rgba(16, 185, 129, .18);
}

/* =========================================================
    REVEAL ON SCROLL
========================================================= */
html.js .reveal {
    opacity: 0;
    transform: translateY(12px);
    transition: opacity .55s ease, transform .55s ease;
}

html.js .reveal.is-visible {
    opacity: 1;
    transform: translateY(0);
}

/* =========================================================
    HERO HELPERS (прозрачный)
========================================================= */
.hero-bg {
    background: transparent !important;
    position: relative;
    isolation: isolate;
    overflow: hidden;
}

.hero-bg::before,
.hero-bg::after {
    display: none !important;
}

/* =========================================================
    HERO PANEL — BASE + VARIANTS
========================================================= */
.hero-wrap {
    padding-top: 18px;
    padding-bottom: 28px;
}

.hero-panel {
    position: relative;
    isolation: isolate;
    overflow: hidden;

    border-radius: 34px;
    border: 1px solid rgba(15, 23, 42, .10);

    background: rgba(255, 255, 255, .55);
    box-shadow:
        0 34px 120px rgba(2, 6, 23, .14),
        0 1px 0 rgba(255, 255, 255, .70) inset;

    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);

    height: clamp(620px, 72vh, 880px);
}

/* spotlight */
.hero-panel::after {
    content: "";
    position: absolute;
    inset: -20%;
    z-index: 1;
    pointer-events: none;
    background:
        radial-gradient(620px 420px at 20% 35%, rgba(59, 130, 246, .10), transparent 65%),
        radial-gradient(700px 420px at 80% 25%, rgba(0, 0, 0, .04), transparent 70%);
}

/* base image */
.hero-panel__bg {
    position: absolute;
    inset: 0;
    z-index: 0;
    width: 100%;
    height: 100%;
    display: block;
    pointer-events: none;
}

/* optional inner hairline */
.hero-panel.has-hairline::before {
    content: "";
    position: absolute;
    inset: 10px;
    border-radius: calc(34px - 10px);
    pointer-events: none;
    z-index: 2;
    border: 1px solid rgba(255, 255, 255, .55);
    opacity: .55;
}

/* =========================================================
    START HERO (hero-panel--full)
    Desktop/Tablet: contain (картинка целиком)
    Mobile: cover
========================================================= */
.hero-panel--full .hero-panel__bg {
    object-fit: contain;
    object-position: 50% 55%;
    padding: clamp(26px, 3vw, 54px);
}

/* Mobile base */
@media (max-width: 640px) {
    .hero-wrap {
        padding-top: 10px;
        padding-bottom: 18px;
    }

    .hero-panel {
        height: auto;
        aspect-ratio: 16 / 9;
        border-radius: 26px;
    }

    .hero-panel::after {
        inset: -10%;
    }

    .hero-panel--full .hero-panel__bg {
        object-fit: cover;
        padding: 0;
        object-position: 54% 42%;
        transform: scale(1.06);
    }

    .hero-panel.has-hairline::before {
        inset: 8px;
        border-radius: calc(26px - 8px);
    }
}

/* Optional: mobile hero taller */
@media (max-width: 640px) {
    .hero-panel.hero-panel--tall {
        aspect-ratio: 4 / 3;
    }
}

/* =========================================================
    PAGE HERO (Leistungen) hero-panel--lightleft
========================================================= */
.hero-panel--lightleft .hero-panel__bg {
    object-fit: cover;
    padding: 0;
    object-position: 60% 45%;
}

.hero-panel__content {
    position: relative;
    z-index: 3;
    padding: 56px 44px;
}

/* light area left */
.hero-panel--lightleft::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 2;
    pointer-events: none;

    width: clamp(520px, 60%, 860px);
    background: linear-gradient(90deg,
            rgba(246, 248, 251, .96) 0%,
            rgba(246, 248, 251, .88) 42%,
            rgba(246, 248, 251, .55) 70%,
            rgba(246, 248, 251, 0) 100%);

    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
}

@media (max-width: 640px) {
    .hero-panel__content {
        padding: 22px 18px;
    }

    .hero-panel--lightleft::before {
        width: 100%;
        background: linear-gradient(180deg,
                rgba(246, 248, 251, .92) 0%,
                rgba(246, 248, 251, .72) 55%,
                rgba(246, 248, 251, 0) 100%);
    }
}

/* =========================================================
    HERO INTRO CARD
========================================================= */
.hero-intro {
    margin-top: 28px;
}

.hero-intro__card {
    max-width: 980px;
    padding: 28px 28px;
    border-radius: 28px;

    background: rgba(255, 255, 255, .62);
    border: 1px solid rgba(15, 23, 42, .10);

    box-shadow:
        0 26px 80px rgba(2, 6, 23, .10),
        0 1px 0 rgba(255, 255, 255, .75) inset;

    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

.hero-intro__title {
    margin: 0;
    font-size: clamp(34px, 3.2vw, 52px);
    line-height: 1.05;
    letter-spacing: 0.01em;
    font-weight: 700;
    color: rgba(15, 23, 42, .98);
}

.hero-intro__lead {
    margin: 14px 0 0;
    font-size: 18px;
    line-height: 1.55;
    color: rgba(15, 23, 42, .72);
}

.hero-intro__text {
    margin: 14px 0 0;
    font-size: 15px;
    line-height: 1.75;
    color: rgba(15, 23, 42, .62);
}

.hero-intro__cta {
    margin-top: 18px;
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
}

.hero-intro__meta {
    margin-top: 12px;
    font-size: 13px;
    color: rgba(15, 23, 42, .55);
}

@media (max-width: 640px) {
    .hero-intro {
        margin-top: 18px;
    }

    .hero-intro__card {
        padding: 18px 16px;
        border-radius: 22px;
    }

    .hero-intro__lead {
        font-size: 16px;
    }
}

/* =========================================================
    HERO CARD — Projekte (Bild oben / Content unten)
========================================================= */
.hero-card {
    position: relative;
    border-radius: calc(var(--radius) + 18px);
    border: 1px solid rgba(15, 23, 42, .08);
    box-shadow: 0 30px 90px rgba(15, 23, 42, .14);
    overflow: hidden;
    background: rgba(255, 255, 255, .18);
}

.hero-card__media {
    position: relative;
    overflow: hidden;
    background: #e9eef6;
}

.hero-card__img {
    width: 100%;
    display: block;
    height: clamp(280px, 34vw, 460px);
    object-fit: cover;
    object-position: 70% 70%;
}

.hero-card__content {
    position: relative;
    background: transparent;
    border-top: 1px solid rgba(15, 23, 42, .08);
    padding: 30px 34px;
}

.hero-card__inner {
    background: rgba(255, 255, 255, .22);
    border: 1px solid rgba(15, 23, 42, .10);
    box-shadow: 0 18px 55px rgba(15, 23, 42, .10);
    border-radius: calc(var(--radius) + 16px);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    padding: 38px 40px;
}

.hero-card__grid {
    display: grid;
    grid-template-columns: 1.25fr .75fr;
    gap: 40px;
    align-items: start;
}

.hero-card__left {
    max-width: 740px;
}

.hero-card__right {
    padding-top: 8px;
}

.hero-card__pill {
    margin-top: 16px;
    padding: 14px 16px;
    border-radius: calc(var(--radius) + 10px);
    border: 1px solid rgba(15, 23, 42, .12);
    background: rgba(255, 255, 255, .78);
    box-shadow: 0 12px 32px rgba(15, 23, 42, .08);
}

/* fade bottom */
.hero-card::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 90px;
    pointer-events: none;
    background: linear-gradient(180deg,
            rgba(246, 248, 251, 0) 0%,
            rgba(246, 248, 251, .75) 70%,
            rgba(246, 248, 251, 1) 100%);
}

@media (max-width: 1023.98px) {
    .hero-card__img {
        height: clamp(220px, 52vw, 340px);
        object-position: 72% 50%;
    }

    .hero-card__content {
        padding: 18px 14px;
    }

    .hero-card__inner {
        padding: 22px 18px;
    }

    .hero-card__grid {
        grid-template-columns: 1fr;
        gap: 22px;
    }

    .hero-card__right {
        padding-top: 0;
    }

    .hero-card::after {
        height: 60px;
    }
}

/* =========================================================
    BRANCHEN HERO
========================================================= */
.hero-branchen {
    position: relative;
    overflow: hidden;

    --text: #f8fafc;
    --muted: rgba(248, 250, 252, .78);
    --muted2: rgba(248, 250, 252, .62);
}

.hero-branchen>* {
    position: relative;
    z-index: 2;
}

.hero-branchen::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 0;
    background-image: var(--hero-image);
    background-size: cover;
    background-position: right center;
    background-repeat: no-repeat;
    transform: scale(1.02);
}

.hero-branchen::after {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 1;
    pointer-events: none;
    background: linear-gradient(90deg,
            rgba(2, 6, 23, .70) 0%,
            rgba(2, 6, 23, .56) 40%,
            rgba(2, 6, 23, .22) 65%,
            rgba(2, 6, 23, 0) 82%);
}

.hero-branchen .hero-badge {
    background: rgba(255, 255, 255, .14);
    border: 1px solid rgba(255, 255, 255, .18);
    box-shadow: 0 10px 28px rgba(0, 0, 0, .22);
    color: rgba(255, 255, 255, .88);
}

.hero-branchen .hero-badge-dot {
    background: rgba(96, 165, 250, .95);
    box-shadow: 0 0 0 3px rgba(96, 165, 250, .18);
}

.hero-branchen .btn-ghost {
    background: rgba(255, 255, 255, .14);
    border-color: rgba(255, 255, 255, .18);
    color: rgba(255, 255, 255, .92);
}

.hero-branchen .btn-ghost:hover {
    background: rgba(255, 255, 255, .18);
    border-color: rgba(255, 255, 255, .22);
}

/* =========================================================
    BRANCHEN CARDS
========================================================= */
/* =========================================================
   BRANCH CARDS (Premium)
   - 4:3 media (for your new images)
   - premium CTA (no blue link)
   - neutral highlight overlay (no blue tint)
========================================================= */

.branch-card {
  background: var(--surface);
  border: 1px solid var(--stroke);
  border-radius: 22px;
  box-shadow: var(--shadow1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 100%;
}

.branch-media {
  position: relative;
  overflow: hidden;
  background: linear-gradient(180deg, rgba(2, 6, 23, 0) 0%, rgba(2, 6, 23, .30) 100%);
  aspect-ratio: 4 / 3; /* was 16/9 */
}

.branch-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Premium neutral overlay (removed blue tint) */
.branch-media::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(900px 380px at 70% 20%, rgba(255,255,255,.14), rgba(0,0,0,0) 60%),
    linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.18) 100%);
  opacity: .35;
}

.branch-tag {
  position: absolute;
  top: 12px;
  left: 12px;
  z-index: 2;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 800;
  color: rgba(15, 23, 42, .85);
  background: rgba(255, 255, 255, .78);
  border: 1px solid rgba(15, 23, 42, .12);
  box-shadow: 0 10px 26px rgba(15, 23, 42, .10);
}

.branch-body {
  padding: 16px 16px 18px;
}

.branch-title {
  font-weight: 600;
  color: var(--text);
}

.branch-desc {
  margin-top: 6px;
  color: var(--muted);
  font-size: 14px;
  line-height: 1.55;
}

.branch-list {
  margin-top: 10px;
  padding-left: 0;
  list-style: none;
  display: grid;
  gap: 6px;
  color: var(--muted);
  font-size: 14px;
  line-height: 1.55;
}

/* Premium CTA (no blue link look) */
.branch-cta {
  display: inline-flex;
  align-items: center;
  gap: .5rem;

  margin-top: 12px;
  font-weight: 700;

  color: rgba(15,23,42,.92);
  text-decoration: none;

  padding: .58rem .85rem;
  border-radius: 999px;
  border: 1px solid rgba(15,23,42,.12);
  background: rgba(255,255,255,.72);
  box-shadow: 0 10px 24px rgba(15,23,42,.08);

  transition:
    transform .18s ease,
    border-color .18s ease,
    box-shadow .18s ease,
    background .18s ease,
    opacity .18s ease;
}

.branch-cta:hover {
  transform: translateY(-1px);
  border-color: rgba(15,23,42,.18);
  background: rgba(255,255,255,.92);
  box-shadow: 0 16px 34px rgba(15,23,42,.12);
  text-decoration: none;
}

.branch-cta:active {
  transform: translateY(0);
}

.branch-cta:focus-visible {
  outline: 2px solid rgba(15,23,42,.28);
  outline-offset: 3px;
}

/* =========================================================
    CTA Slim
========================================================= */
.cta-slim {
    border-radius: 24px;
    border: 1px solid var(--stroke);
    background: rgba(255, 255, 255, .62);
    box-shadow: var(--shadow2);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}

.check {
    position: relative;
    padding-left: 28px;
    color: var(--muted);
    font-weight: 700;
}

.check::before {
    content: "✓";
    position: absolute;
    left: 0;
    top: 0;
    color: rgba(37, 99, 235, .95);
    font-weight: 900;
}

/* =========================================================
    FORMS (контакт)
========================================================= */
.form-field {
    width: 100%;
    border-radius: 16px;
    border: 1px solid rgba(15, 23, 42, .12);
    background: rgba(255, 255, 255, .82);
    padding: 12px 14px;
    color: rgba(15, 23, 42, .94);
    box-shadow: 0 10px 26px rgba(15, 23, 42, .06);
}

.form-field:focus {
    outline: 2px solid rgba(37, 99, 235, .28);
    outline-offset: 2px;
}

.form-hint {
    font-size: 13px;
    color: var(--muted2);
    line-height: 1.5;
}

/* =========================================================
    CONTACT layout hard fix
========================================================= */
.contact-layout {
    display: grid;
    gap: 1rem;
    align-items: start;
}

@media (min-width: 1024px) {
    .contact-layout {
        grid-template-columns: minmax(0, 5fr) minmax(0, 7fr);
    }
}

.contact-layout>* {
    min-width: 0;
}

/* =========================================================
    GEO Layer
========================================================= */
.geo-wrap {
    max-width: 72rem;
}

.geo-kicker {
    font-size: 12px;
    font-weight: 800;
    letter-spacing: .06em;
    text-transform: uppercase;
    color: var(--muted2);
}

.geo-lead {
    font-size: 15px;
    line-height: 1.7;
    color: var(--muted);
}

.geo-grid {
    display: grid;
    gap: 16px;
}

@media (min-width: 1024px) {
    .geo-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

.geo-divider {
    height: 1px;
    background: rgba(15, 23, 42, .08);
    margin: 18px 0;
}

/* =========================================================
    FAQ
========================================================= */
.faq {
    display: grid;
    gap: 12px;
}

.faq details {
    background: rgba(255, 255, 255, .62);
    border: 1px solid rgba(15, 23, 42, .12);
    border-radius: calc(var(--radius) + 10px);
    box-shadow: 0 12px 32px rgba(15, 23, 42, .08);
    overflow: clip;
}

.faq summary {
    list-style: none;
    cursor: pointer;
    padding: 16px 16px;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 14px;
    font-weight: 900;
    color: var(--text);
}

.faq summary::-webkit-details-marker {
    display: none;
}

.faq .faq-q {
    font-size: 14px;
    line-height: 1.35;
}

.faq .faq-icon {
    flex: 0 0 auto;
    width: 28px;
    height: 28px;
    border-radius: 999px;
    display: grid;
    place-items: center;
    border: 1px solid rgba(15, 23, 42, .14);
    background: rgba(255, 255, 255, .82);
    box-shadow: 0 10px 26px rgba(15, 23, 42, .06);
    transition: transform .18s ease;
}

.faq details[open] .faq-icon {
    transform: rotate(45deg);
}

.faq .faq-a {
    padding: 0 16px 16px;
    color: var(--muted);
    font-size: 14px;
    line-height: 1.65;
}

/* =========================================================
    LIST DOTS (.prose)
========================================================= */
.prose ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.prose ul li {
    position: relative;
    padding-left: 20px;
}

.prose ul li::before {
    content: "•";
    position: absolute;
    left: 0;
    top: 0;
    color: rgba(37, 99, 235, .90);
    font-weight: 900;
}

.prose ul.list-disc {
    list-style: none;
    padding-left: 0;
}

/* =========================================================
    [PAGE FIX] LEISTUNGEN — Dark hero only on Leistungen
    - Убрана светлая маска .hero-panel--lightleft::before
    - Не влияет на другие страницы
========================================================= */
.page-leistungen .hero-panel {
    background: #070A10 !important;
    border-color: rgba(255, 255, 255, .10) !important;
    box-shadow:
        0 40px 140px rgba(2, 6, 23, .55),
        0 1px 0 rgba(255, 255, 255, .06) inset !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
}

/* Отключаем светлую область слева */
.page-leistungen .hero-panel--lightleft::before {
    content: none !important;
    display: none !important;
}

/* Glow/vignette для тёмной панели */
.page-leistungen .hero-panel::after {
    content: "";
    position: absolute;
    inset: -20%;
    z-index: 1;
    pointer-events: none;
    background:
        radial-gradient(640px 460px at 22% 35%, rgba(59, 130, 246, .22), transparent 62%),
        radial-gradient(820px 520px at 78% 28%, rgba(99, 102, 241, .14), transparent 68%),
        radial-gradient(1200px 700px at 50% 50%, rgba(255, 255, 255, .05), transparent 55%),
        linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .35) 100%);
}

/* Контент поверх + цвета */
.page-leistungen .hero-panel__content {
    position: relative;
    z-index: 3;
    color: rgba(255, 255, 255, .92);
    background: transparent !important;
}

.page-leistungen .hero-panel__content h1,
.page-leistungen .hero-panel__content h2 {
    color: rgba(255, 255, 255, .96) !important;
}

.page-leistungen .hero-panel__content p {
    color: rgba(255, 255, 255, .70) !important;
}

/* Badge в hero */
.page-leistungen .hero-panel__content .hero-badge {
    background: rgba(255, 255, 255, .10) !important;
    border-color: rgba(255, 255, 255, .16) !important;
    box-shadow: 0 10px 28px rgba(0, 0, 0, .22) !important;
    color: rgba(255, 255, 255, .88) !important;
}

.page-leistungen .hero-panel__content .hero-badge-dot {
    background: rgba(96, 165, 250, .95) !important;
    box-shadow: 0 0 0 3px rgba(96, 165, 250, .18) !important;
}

/* Кнопки ghost в hero */
.page-leistungen .hero-panel__content .btn-ghost {
    background: rgba(255, 255, 255, .10) !important;
    border-color: rgba(255, 255, 255, .18) !important;
    color: rgba(255, 255, 255, .92) !important;
    box-shadow: 0 10px 26px rgba(0, 0, 0, .22) !important;
}

.page-leistungen .hero-panel__content .btn-ghost:hover {
    background: rgba(255, 255, 255, .14) !important;
    border-color: rgba(255, 255, 255, .22) !important;
}

/* Leistungen — Mobile layout fix (единый, без дублей) */
@media (max-width: 640px) {
    .page-leistungen .hero-panel {
        aspect-ratio: auto !important;
        height: auto !important;
        min-height: 560px;
        /* tune 520–640 */
    }

    .page-leistungen .hero-panel__bg {
        object-fit: cover !important;
        object-position: 72% 32% !important;
        /* tune */
        transform: scale(1.06);
    }

    .page-leistungen .hero-panel__content {
        padding: 22px 16px !important;
        max-width: 22rem;
        padding-right: 96px !important;
    }

    .page-leistungen .hero-panel__content h1 {
        font-size: clamp(28px, 9vw, 44px);
        line-height: 1.05;
        letter-spacing: 0.01em;
    }

    .page-leistungen .hero-panel__content p {
        font-size: 14px;
        line-height: 1.55;
    }
}

/* =========================================================
    HOME (index): Hero full-bleed image (fill panel)
========================================================= */
.page-home .hero-panel--full .hero-panel__bg {
    object-fit: cover !important;
    padding: 0 !important;
    transform: scale(1.04);
    object-position: 50% 50%;
}

/* =========================================================
    FOOTER HARD FIX (visibility + theme lock)
========================================================= */
.matte-footer {
    background: linear-gradient(180deg, #0b1220 0%, #050913 100%);
    color: rgba(255, 255, 255, .86);
}

.matte-footer a {
    color: rgba(255, 255, 255, .72);
}

.matte-footer a:hover {
    color: rgba(255, 255, 255, .92);
    text-decoration: underline;
    text-underline-offset: 4px;
}

.matte-footer * {
    opacity: 1;
}

/* =========================================================
    PROZESS — hard safe colors (без Tailwind-arbitrary зависимости)
    (объединено: убраны все повторы)
========================================================= */
/* Мобильно: панель тёмная (перебивает .panel glass) */
.page-prozess header .panel,
.page-prozess .vs-prozess-hero.panel {
    background: #0B0F16 !important;
    border-color: rgba(255, 255, 255, .10) !important;
    box-shadow: 0 34px 120px rgba(2, 6, 23, .22) !important;
}

/* Desktop: панель может быть прозрачной (под full-bg) */
@media (min-width: 1024px) {

    .page-prozess header .panel,
    .page-prozess .vs-prozess-hero.panel {
        background: transparent !important;
        box-shadow: none !important;
        border-color: rgba(15, 23, 42, .10) !important;
    }
}

/* Контентная “плита” на мобиле */
.page-prozess .vs-prozess-content {
    background: #0B0F16 !important;
}

@media (min-width: 1024px) {
    .page-prozess .vs-prozess-content {
        background: transparent !important;
    }
}

/* Fade-переход под картинкой */
.page-prozess .vs-prozess-fade,
.page-prozess .vs-hero-fade {
    background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, #0B0F16 100%) !important;
}

/* Био-плашка на мобиле (если используется) */
.page-prozess .vs-prozess-bio {
    background: #0A0D14;
}
/* =========================================================
   CONTACT — APP ROWS (FIX VISIBILITY in LUX THEME)
   Makes rows look tappable on light background
========================================================= */

/* clickable rows (buttons) */
#servicesRow,
#timelineRow,
#budgetRow{
  cursor: pointer;
  border: 1px solid rgba(15,23,42,.16) !important;
  background: rgba(255,255,255,.92) !important;
  box-shadow:
    0 12px 32px rgba(15,23,42,.10),
    0 1px 0 rgba(255,255,255,.85) inset !important;
  color: rgba(15,23,42,.95) !important;
}

#servicesRow:hover,
#timelineRow:hover,
#budgetRow:hover{
  background: rgba(255,255,255,.98) !important;
  border-color: rgba(15,23,42,.22) !important;
  box-shadow:
    0 16px 40px rgba(15,23,42,.12),
    0 1px 0 rgba(255,255,255,.88) inset !important;
}

/* focus (keyboard) */
#servicesRow:focus-visible,
#timelineRow:focus-visible,
#budgetRow:focus-visible{
  outline: 2px solid rgba(37,99,235,.35) !important;
  outline-offset: 3px !important;
  border-radius: 18px;
}

/* labels inside rows (if you use spans with ids) */
#servicesLabel,
#timelineLabel,
#budgetLabel{
  color: rgba(15,23,42,.92) !important;
}

#servicesLabel[data-empty="true"],
#timelineLabel[data-empty="true"]{
  color: rgba(15,23,42,.55) !important;
}

/* chevron character span */
.vs-row__chev{
  color: rgba(15,23,42,.55) !important;
  font-size: 1.35rem;
}

/* error state for rows */
.vs-error{
  border-color: rgba(220,38,38,.35) !important;
  box-shadow: 0 0 0 3px rgba(220,38,38,.12) !important;
}

/* chips checkboxes: blue accent (premium) */
:root{ --accent-blue: rgba(37,99,235,.95); }

.svc-chip{
  border: 1px solid rgba(15,23,42,.14) !important;
  background: rgba(255,255,255,.78) !important;
}

.svc-chip:hover{
  background: rgba(255,255,255,.92) !important;
  border-color: rgba(15,23,42,.18) !important;
}

.svc-chip input{
  accent-color: var(--accent-blue) !important;
}

.svc-chip:has(input:checked){
  border-color: rgba(37,99,235,.28) !important;
  background: rgba(37,99,235,.08) !important;
}
